{"ast":null,"code":"// client/src/Login.js\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import{Container,Paper,Typography,TextField,Button,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){let{onLogin}=_ref;const[form,setForm]=useState({username:'',password:''});const navigate=useNavigate();const[loading,setLoading]=useState(false);const handleChange=e=>setForm(f=>({...f,[e.target.name]:e.target.value}));const handleLogin=async e=>{e.preventDefault();setLoading(true);try{const res=await fetch('/api/auth/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(form)});const data=await res.json();if(res.ok){onLogin();navigate('/dashboard');}else{alert(data.message||'Login failed');}}catch(err){console.error(err);alert('Login error');}finally{setLoading(false);}};const handleRegister=async()=>{if(!form.username||!form.password){alert('Please fill out both fields');return;}setLoading(true);try{const res=await fetch('/api/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(form)});const data=await res.json();if(res.status===201){onLogin();navigate('/dashboard');}else{alert(data.message||'Registration failed');}}catch(err){console.error(err);alert('Registration error');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{mt:8,p:4,borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",align:\"center\",gutterBottom:true,children:\"Sign In / Register\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleLogin,noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,margin:\"normal\",label:\"Username\",name:\"username\",value:form.username,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,margin:\"normal\",label:\"Password\",name:\"password\",type:\"password\",value:form.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:2,borderRadius:2},disabled:loading,children:\"Log In\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",fullWidth:true,variant:\"outlined\",sx:{mt:1,borderRadius:2},onClick:handleRegister,disabled:loading,children:\"Create Account\"})]})]})});}","map":{"version":3,"names":["React","useState","useNavigate","Container","Paper","Typography","TextField","Button","Box","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","form","setForm","username","password","navigate","loading","setLoading","handleChange","e","f","target","name","value","handleLogin","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","alert","message","err","console","error","handleRegister","status","maxWidth","children","elevation","sx","mt","p","borderRadius","variant","align","gutterBottom","component","onSubmit","noValidate","fullWidth","margin","label","onChange","required","type","disabled","onClick"],"sources":["/Users/benjaminzou/Desktop/CornellProjects/TradingPlatform/client/src/Login.js"],"sourcesContent":["// client/src/Login.js\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Box,\n} from '@mui/material';\n\nexport default function Login({ onLogin }) {\n  const [form, setForm] = useState({ username: '', password: '' });\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e) =>\n    setForm((f) => ({ ...f, [e.target.name]: e.target.value }));\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(form),\n      });\n      const data = await res.json();\n      if (res.ok) {\n        onLogin();\n        navigate('/dashboard');\n      } else {\n        alert(data.message || 'Login failed');\n      }\n    } catch (err) {\n      console.error(err);\n      alert('Login error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRegister = async () => {\n    if (!form.username || !form.password) {\n      alert('Please fill out both fields');\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(form),\n      });\n      const data = await res.json();\n      if (res.status === 201) {\n        onLogin();\n        navigate('/dashboard');\n      } else {\n        alert(data.message || 'Registration failed');\n      }\n    } catch (err) {\n      console.error(err);\n      alert('Registration error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"xs\">\n      <Paper elevation={3} sx={{ mt: 8, p: 4, borderRadius: 2 }}>\n        <Typography variant=\"h5\" align=\"center\" gutterBottom>\n          { /* You could also dynamically switch to “Register” header when they click create */ }\n          Sign In / Register\n        </Typography>\n        <Box component=\"form\" onSubmit={handleLogin} noValidate>\n          <TextField\n            fullWidth\n            margin=\"normal\"\n            label=\"Username\"\n            name=\"username\"\n            value={form.username}\n            onChange={handleChange}\n            required\n          />\n          <TextField\n            fullWidth\n            margin=\"normal\"\n            label=\"Password\"\n            name=\"password\"\n            type=\"password\"\n            value={form.password}\n            onChange={handleChange}\n            required\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            sx={{ mt: 2, borderRadius: 2 }}\n            disabled={loading}\n          >\n            Log In\n          </Button>\n\n          <Button\n            type=\"button\"\n            fullWidth\n            variant=\"outlined\"\n            sx={{ mt: 1, borderRadius: 2 }}\n            onClick={handleRegister}\n            disabled={loading}\n          >\n            Create Account\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}